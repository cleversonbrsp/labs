# =============================================================================
# configmap.yaml - Arquivos de properties para o Config Server (perfil native)
# =============================================================================
# O Config Server em modo "native" lê configuração do sistema de arquivos em
# /config. Os arquivos portal-demo.properties e portal-demo-kind.properties
# são servidos quando a aplicação (spring.application.name=portal-demo) pede
# o perfil "kind". Permite rodar o lab sem um repo Git externo de properties.
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: config-server-files
  namespace: lab-portal
data:
  portal-demo.properties: |
    # Config base da aplicação portal-demo (lab)
    file.encoding=UTF-8
    server.port=9090
    server.servlet.context-path=/portal
    server.context-path=/portal
    server.session-timeout=1800
    server.use-forward-headers=true
    app.languages=en|es|pt
  portal-demo-kind.properties: |
    # Perfil kind - CLOUD_PROFILE=kind
    spring.profiles.active=dev
    server.port=9090
    server.servlet.context-path=/portal
    server.context-path=/portal
    lab.profile=kind
    lab.env=kind-cluster
