# =============================================================================
# configmap.yaml - Arquivos de properties para o Config Server (perfil native)
# =============================================================================
# O Config Server em modo "native" lê configuração do sistema de arquivos em
# vez de um repositório Git. Este ConfigMap é montado em /config no container;
# os arquivos connect.properties e connect-kind.properties são os mesmos que
# no fluxo real vêm do repositório navita-config-properties. Permite rodar o
# lab sem um repo Git externo de properties.
# =============================================================================
apiVersion: v1
kind: ConfigMap
metadata:
  name: config-server-files
  namespace: nvt-cnt
data:
  connect.properties: |
    # Base config - replicando navita-config-properties (mínimo)
    file.encoding=UTF-8
    server.port=9090
    server.servlet.context-path=/portal
    server.context-path=/portal
    server.session-timeout=1800
    server.use-forward-headers=true
    app.languages=en|es|pt
  connect-kind.properties: |
    # Perfil kind - CLOUD_PROFILE=kind
    spring.profiles.active=dev
    server.port=9090
    server.servlet.context-path=/portal
    server.context-path=/portal
    lab.profile=kind
    lab.env=kind-cluster
